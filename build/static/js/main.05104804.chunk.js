(this["webpackJsonppangaea-test"]=this["webpackJsonppangaea-test"]||[]).push([[0],{21:function(e,c,t){},22:function(e,c,t){},34:function(e,c,t){},35:function(e,c,t){},37:function(e,c,t){"use strict";t.r(c);var s=t(0),n=t(1),i=t.n(n),a=t(9),r=t.n(a),l=(t(21),t(22),t(2)),j=t(11),o=t(15),u=t.n(o),d=t(10),b=t.n(d),O=t(3),h=(t(34),function(){var e=JSON.parse(localStorage.getItem("products"))||[],c=i.a.useState(null),t=Object(l.a)(c,2),n=t[0],a=t[1],r=i.a.useState(0),j=Object(l.a)(r,2),o=j[0],u=j[1];function d(e){var c=n.filter((function(c){return c!==e}));a(Object(O.a)(c)),localStorage.setItem("products",JSON.stringify(Object(O.a)(c))),console.log("a",c),u(o+1)}return i.a.useEffect((function(){e!==n&&a(e)}),[e]),Object(s.jsxs)("div",{className:"cart-card",children:[Object(s.jsx)("div",{className:"currency",children:Object(s.jsx)("select",{name:"currency",className:"select",children:Object(s.jsx)("option",{children:"USD"})})}),n?n.map((function(e){return Object(s.jsxs)("div",{className:"cart-item",children:[Object(s.jsxs)("div",{className:"top-cart",children:[Object(s.jsx)("p",{className:"title",children:e.title}),Object(s.jsx)("div",{className:"close-form",onClick:function(){return d(e)},children:" + "})]}),Object(s.jsx)("div",{className:"image",children:Object(s.jsx)("img",{src:"".concat(e.image_url),alt:"",className:"cart-image"})}),Object(s.jsxs)("div",{className:"bottom-cart",children:[Object(s.jsxs)("div",{className:"quantity",children:[Object(s.jsx)("p",{className:"minus",onClick:function(){return function(e){if(console.log("minus",e),e.quantity-=1,e.quantity<1)return d(e);e.price=e.unitPrice*e.quantity,a(Object(O.a)(n)),localStorage.setItem("products",JSON.stringify(Object(O.a)(n))),u(o+1)}(e)},children:" - "}),Object(s.jsxs)("p",{className:"number",children:[" ",e.quantity," "]}),Object(s.jsx)("p",{className:"plus",onClick:function(){return c=e,console.log("plus",c),c.quantity+=1,c.price=c.unitPrice*c.quantity,a(Object(O.a)(n)),localStorage.setItem("products",JSON.stringify(Object(O.a)(n))),void u(o+1);var c},children:" + "})]}),Object(s.jsxs)("p",{children:["$",e.price]})]})]})})):Object(s.jsx)("div",{children:"No Item in cart"}),Object(s.jsxs)("div",{className:"bottom",children:[Object(s.jsxs)("div",{className:"total",children:[Object(s.jsx)("hr",{className:"hr"}),Object(s.jsxs)("div",{className:"subtotal",children:[Object(s.jsx)("p",{children:"Subtotal"}),Object(s.jsxs)("p",{children:["$",n&&n.reduce((function(e,c){return e+c.price}),0)]})]})]}),Object(s.jsxs)("div",{className:"subscription",children:[Object(s.jsx)("button",{className:"subscribe",children:"MAKE THIS A SUBSCRIPTION (SAVE 20%)"}),Object(s.jsx)("button",{className:"checkout",children:"PROCEED TO CHECKOUT"})]})]})]})}),m=(t(35),function(){var e=Object(n.useState)(null),c=Object(l.a)(e,2),i=c[0],a=c[1],r=Object(n.useState)(!1),o=Object(l.a)(r,2),d=o[0],O=o[1],m=Object(n.useState)(0),p=Object(l.a)(m,2),x=p[0],N=p[1],f=t(38).createApolloFetch;return Object(n.useEffect)((function(){f({uri:"https://pangaea-interviews.now.sh/api/graphql"})({query:" query products {\n                    products {\n                        id\n                        image_url\n                        title\n                        price(currency: USD)\n                    }\n                }"}).then((function(e){console.log(e),a(e.data)})).catch((function(e){return console.log("fetch error",e)}))}),[]),Object(s.jsxs)("div",{children:[Object(s.jsxs)("nav",{className:"nav",children:[Object(s.jsx)("h2",{children:"LUMIN"}),Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:"Shop"}),Object(s.jsx)("li",{children:"Learn"})]}),Object(s.jsxs)("div",{className:"cart",children:[Object(s.jsx)("p",{children:"Account"}),Object(s.jsx)(b.a,{path:j.b,title:"Dashboard-icon",size:1,className:"cart-icon",onClick:function(){return O(!0)}})]})]}),Object(s.jsx)("hr",{}),Object(s.jsx)(u.a,{className:"bg-modal",isOpen:d,children:Object(s.jsxs)("div",{className:"cart-down",children:[Object(s.jsxs)("div",{className:"heading",children:[Object(s.jsx)(b.a,{path:j.a,title:"Dashboard-icon",size:1,className:"back-icon",onClick:function(){return O(!1)}}),Object(s.jsx)("p",{children:"YOUR CART"})]}),Object(s.jsx)(h,{})]})}),Object(s.jsxs)("section",{className:"top",children:[Object(s.jsxs)("div",{className:"all-products",children:[Object(s.jsx)("h2",{children:"All Products"}),Object(s.jsxs)("p",{children:["A 360",Object(s.jsx)("sup",{children:"0"})," look at lumin"]})]}),Object(s.jsx)("div",{className:"filter",children:Object(s.jsx)("select",{name:"filter-by",children:Object(s.jsx)("option",{value:"filter",children:"Filter by"})})})]}),Object(s.jsx)("section",{className:"products",children:i&&i.products.map((function(e){return Object(s.jsxs)("div",{className:"product",children:[Object(s.jsx)("img",{src:"".concat(e.image_url),alt:"product",className:"product-image"}),Object(s.jsx)("p",{children:e.title}),Object(s.jsxs)("p",{children:["$",e.price]}),Object(s.jsx)("button",{className:"add",onClick:function(){return function(e){var c=[],t=(JSON.parse(localStorage.getItem("products"))||[]).map((function(t){return c.push(t.id),t.id===e.id?(t.quantity+=1,t.price=t.unitPrice*t.quantity,t):t}),[]);c.includes(e.id)||(e.quantity=1,e.unitPrice=+e.price,t.push(e)),localStorage.setItem("products",JSON.stringify(t)),N(x+1),O(!0)}(e)},children:"Add to cart"})]})}))})]})});var p=function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsx)(m,{})})};r.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(p,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.05104804.chunk.js.map